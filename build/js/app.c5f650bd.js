!function(t){function e(e){for(var s,o,h=e[0],l=e[1],u=e[2],d=0,p=[];d<h.length;d++)o=h[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);for(r&&r(e);p.length;)p.shift()();return a.push.apply(a,u||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],s=!0,h=1;h<i.length;h++){var l=i[h];0!==n[l]&&(s=!1)}s&&(a.splice(e--,1),t=o(o.s=i[0]))}return t}var s={},n={0:0},a=[];function o(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=s,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(i,s,function(e){return t[e]}.bind(null,s));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var h=window.webpackJsonp=window.webpackJsonp||[],l=h.push.bind(h);h.push=e,h=h.slice();for(var u=0;u<h.length;u++)e(h[u]);var r=l;a.push([6,1]),i()}({3:function(t,e,i){},6:function(t,e,i){"use strict";i.r(e);i(1),i(2),i(3),i(4);var s=i(0),n=i.n(s);function a(t){return Number.parseFloat(t).toFixed(2)}const o=Object.freeze({PERCENT:"percent",FIXED:"fixed"});const h=new class{constructor(t){this._$el=n()(t),this.table=this._$el.find("table"),this.addPersonBtn=this._$el.find(".add-person-btn"),this.addItemBtn=this._$el.find(".add-item-btn"),this.subtotalInput=this._$el.find(".subtotal-input"),this.taxInput=this._$el.find(".tax-input"),this.tipInput=this._$el.find(".tip-input"),this.discountInput=this._$el.find(".discount-input"),this.totalLabel=this._$el.find(".total-label"),this.itemizedTotalLabel=this._$el.find(".itemized-total-label"),this.tipTotalLabel=this._$el.find(".tip-total-label"),this.totalMatchMessage=this._$el.find(".total-match-msg"),this.totalMismatchMessage=this._$el.find(".total-mismatch-msg"),this.totalMatchMessage.hide(),this.totalMismatchMessage.hide(),this.initState(),this.bindEvents()}initState(){const t=n()("table, .btn, .itemized-total ");this.personCount=this.table.find(".person-row").length,this.itemCount=this.table.find(".item-col-head").length,this.subtotal=this.fetchSubtotal(),this.tax=this.fetchTax(),this.discount=this.fetchDiscount(),this.tipValue=this.fetchTipValue(),this.tipOption=this._$el.find("input[name='tip-option-group']:checked").val(),0===this.subtotal?t.hide():t.show()}get total(){const t=this.subtotal,e=this.tax,i=this.tip,s=this.discount,a=n()("table, .btn, .itemized-total ");return 0===t?a.hide():a.show(),n()("[data-person-index='1'][data-item-index='1']").attr("placeholder","66.55"),t*(1-s/100)+i+e}get itemizedTotal(){return this.table.find(".due").toArray().reduce((t,e)=>t+=+n()(e).html(),0)}get tip(){return+(this.tipOption===o.FIXED?this.tipValue:this.subtotal*this.tipValue/100)}getPersonDue(t){if(!this.subtotal)return 0;const e=this.subtotal,i=this.tip,s=this.tax,n=this.discount,a=this.table.find(`.person${t}-item`).toArray().reduce((t,e)=>t+=+e.value,0);return(a+(i+s)*(a/e))*(1-n/100)}updateItemizedTotal(){this.itemizedTotalLabel.html(a(this.itemizedTotal))}updateTotal(){this.totalLabel.html(a(this.total)),this.onTotalChanged()}updateTipTotal(){this.tipTotalLabel.html(a(this.tip))}updateDues(){this.table.find(".due").each((t,e)=>{const i=t+1,s=this.getPersonDue(i);n()(e).html(a(s))}),this.onDuesChanged()}updateCompareTotalMessage(){a(this.total)===a(this.itemizedTotal)?(this.totalMatchMessage.show(),this.totalMismatchMessage.hide()):(this.totalMatchMessage.hide(),this.totalMismatchMessage.show());const t=n()("table, .btn, .itemized-total");0===this.subtotal?t.hide():t.show()}onTotalChanged(){this.updateDues()}onDuesChanged(){this.updateItemizedTotal(),this.updateCompareTotalMessage()}bindEvents(){this.addPersonBtn.click(this.addPerson.bind(this)),this.addItemBtn.click(this.addItem.bind(this)),this.subtotalInput.on("input",()=>{this.subtotal=this.fetchSubtotal(),this.updateTotal(),this.updateTipTotal()}),this.taxInput.on("input",()=>{this.tax=this.fetchTax(),this.updateTotal()}),this.discountInput.on("input",()=>{this.discount=this.fetchDiscount(),this.updateTotal(),this.updateTipTotal()}),this.tipInput.on("input",()=>{this.tipValue=this.fetchTipValue(),this.updateTotal(),this.updateTipTotal()}),this._$el.find('input[name="tip-option-group"]').on("input",t=>{this.tipOption=t.target.value,this.updateTotal(),this.updateTipTotal()}),this.table.on("input",".item-input",t=>{const e=t.target.dataset.personIndex,i=this.getPersonDue(e);this.table.find(`.due${e}`).html(a(i)),this.onDuesChanged()})}fetchSubtotal(){return+this.subtotalInput.val()||0}fetchTax(){return+this.taxInput.val()||0}fetchDiscount(){return+this.discountInput.val()||0}fetchTipValue(){return+this.tipInput.val()||0}addItem(){this.itemCount++,this.table.find("th:last-child").after(`<th id="item${this.itemCount}-col-head" class="item-col-head">Item ${this.itemCount}</th>`);const t=this.table.find(".person-row");for(let e=0;e<this.personCount;e++){const i=e+1;t.eq(e).append(`\n        <td>\n            ${this.getItemInputHtmlString(i,this.itemCount)}\n        </td>\n      `)}}addPerson(){this.personCount++;const t=this.personCount;let e=`<tr id="person${t}-row" class="person-row">`;e+=`    <td>${this.getPersonNameInputHtmlString(t)}</td>`,e+=`    <td>$${this.getDueLabelHtmlString(t,a(0))}</td>`;for(let i=1;i<=this.itemCount;i++)e+="<td>",e+=this.getItemInputHtmlString(t,i),e+="</td>";e+="</tr>",this.table.find("tbody").append(e)}getItemInputHtmlString(t,e){return`<input type="number" pattern="[0-9]*" inputmode="decimal" data-person-index="${t}" data-item-index="${e}" class="item-input person${t}-item" min="0" />`}getPersonNameInputHtmlString(t){return`<input type="text" id="person${t}-name" placeholder="Bob ${t}" />`}getDueLabelHtmlString(t,e){return`<span data-person-index="${t}" class="due due${t}">${e}</span>`}}("#splitable");h.addPerson(),h.addPerson(),h.addItem()}});
//# sourceMappingURL=app.c5f650bd.js.map