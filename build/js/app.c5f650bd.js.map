{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/scripts/util.js","webpack:///./src/scripts/splitable.js","webpack:///./src/scripts/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","toFinancialNumber","number","Number","parseFloat","toFixed","TipOptions","freeze","PERCENT","FIXED","splitable","constructor","selector","this","_$el","$","table","find","addPersonBtn","addItemBtn","subtotalInput","taxInput","tipInput","discountInput","totalLabel","itemizedTotalLabel","tipTotalLabel","totalMatchMessage","totalMismatchMessage","hide","initState","bindEvents","toggledElements","personCount","itemCount","subtotal","fetchSubtotal","tax","fetchTax","discount","fetchDiscount","tipValue","fetchTipValue","tipOption","val","show","tip","attr","toArray","reduce","sum","$el","html","getPersonDue","idx","itemSum","updateItemizedTotal","itemizedTotal","updateTotal","total","onTotalChanged","updateTipTotal","updateDues","each","el","personIdx","due","onDuesChanged","updateCompareTotalMessage","click","addPerson","addItem","on","e","target","dataset","personIndex","personDue","after","$rows","eq","append","getItemInputHtmlString","getPersonNameInputHtmlString","getDueLabelHtmlString","itemIdx","dueValue"],"mappings":"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","file":"js/app.c5f650bd.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([6,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export function toFinancialNumber(number) {\n  return Number.parseFloat(number).toFixed(2);\n}\n","import $ from 'jquery';\n\nimport { toFinancialNumber } from './util';\n\nconst TipOptions = Object.freeze({\n  PERCENT: 'percent',\n  FIXED: 'fixed',\n});\n\nexport default class Splitable {\n  constructor(selector) {\n    /* DOM Elements */\n    this._$el = $(selector);\n    this.table = this._$el.find('table');\n    // buttons\n    this.addPersonBtn = this._$el.find('.add-person-btn');\n    this.addItemBtn = this._$el.find('.add-item-btn');\n    // inputs\n    this.subtotalInput = this._$el.find('.subtotal-input');\n    this.taxInput = this._$el.find('.tax-input');\n    this.tipInput = this._$el.find('.tip-input');\n    this.discountInput = this._$el.find('.discount-input');\n    // labels\n    this.totalLabel = this._$el.find('.total-label');\n    this.itemizedTotalLabel = this._$el.find('.itemized-total-label');\n    this.tipTotalLabel = this._$el.find('.tip-total-label');\n    // messages\n    this.totalMatchMessage = this._$el.find('.total-match-msg');\n    this.totalMismatchMessage = this._$el.find('.total-mismatch-msg');\n\n    this.totalMatchMessage.hide();\n    this.totalMismatchMessage.hide();\n\n    this.initState();\n    this.bindEvents();\n  }\n\n  initState() {\n    const toggledElements = $('table, .btn, .itemized-total ');\n\n    this.personCount = this.table.find('.person-row').length;\n    this.itemCount = this.table.find('.item-col-head').length;\n\n    this.subtotal = this.fetchSubtotal();\n    this.tax = this.fetchTax();\n    this.discount = this.fetchDiscount();\n    this.tipValue = this.fetchTipValue();\n\n    this.tipOption = this._$el.find(\"input[name='tip-option-group']:checked\").val();\n\n    // If subtotal is empty, hide table and associated elements\n    if (this.subtotal === 0) {\n      toggledElements.hide();\n    } else {\n      toggledElements.show();\n    }\n  }\n\n  /* Getters */\n  get total() {\n    const subtotal = this.subtotal;\n    const tax = this.tax;\n    const tip = this.tip;\n    const discount = this.discount;\n    const toggledElements = $('table, .btn, .itemized-total ');\n\n    // If subtotal is empty, hide table and associated elements\n    if (subtotal === 0) {\n      toggledElements.hide();\n    } else {\n      toggledElements.show();\n    }\n\n    // Add placeholder to first item input field\n    $(\"[data-person-index='1'][data-item-index='1']\").attr('placeholder', '66.55');\n\n    return (subtotal * (1 - (discount / 100))) + tip + tax;\n  }\n\n  get itemizedTotal() {\n    // Add up all the dues\n    return this.table.find('.due').toArray()\n      .reduce((sum, $el) => sum += (+$($el).html()), 0);\n  }\n\n  get tip() {\n    return +(this.tipOption === TipOptions.FIXED ? this.tipValue\n      : (this.subtotal * this.tipValue / 100));\n  }\n\n  getPersonDue(idx) {\n    if (!this.subtotal) return 0;\n\n    const subtotal = this.subtotal;\n    const tip = this.tip;\n    const tax = this.tax;\n    const discount = this.discount;\n\n    const itemSum = this.table.find(`.person${idx}-item`)\n      .toArray()\n      .reduce((sum, $el) => sum += (+$el.value), 0);\n\n    return (itemSum + (tip + tax) * (itemSum / subtotal)) * (1 - (discount / 100));\n  }\n\n  /* View Updates */\n  updateItemizedTotal() {\n    this.itemizedTotalLabel.html(toFinancialNumber(this.itemizedTotal));\n  }\n\n  updateTotal() {\n    this.totalLabel.html(toFinancialNumber(this.total));\n    this.onTotalChanged();\n  }\n\n  updateTipTotal() {\n    this.tipTotalLabel.html(toFinancialNumber(this.tip));\n  }\n\n  updateDues() {\n    this.table.find('.due').each((i, el) => {\n      const personIdx = i + 1;\n      const due = this.getPersonDue(personIdx);\n      $(el).html(toFinancialNumber(due));\n    });\n    this.onDuesChanged();\n  }\n\n  updateCompareTotalMessage() {\n    if (toFinancialNumber(this.total) === toFinancialNumber(this.itemizedTotal)) {\n      this.totalMatchMessage.show();\n      this.totalMismatchMessage.hide();\n    } else {\n      this.totalMatchMessage.hide();\n      this.totalMismatchMessage.show();\n    }\n\n    const toggledElements = $('table, .btn, .itemized-total');\n\n    // If subtotal is empty, hide table and associated elements\n    if (this.subtotal === 0) {\n      toggledElements.hide();\n    } else {\n      toggledElements.show();\n    }\n  }\n\n  /* Events */\n  onTotalChanged() {\n    this.updateDues();\n  }\n\n  onDuesChanged() {\n    this.updateItemizedTotal();\n    this.updateCompareTotalMessage();\n  }\n\n  bindEvents() {\n    this.addPersonBtn.click(this.addPerson.bind(this));\n    this.addItemBtn.click(this.addItem.bind(this));\n\n    this.subtotalInput.on('input', () => {\n      this.subtotal = this.fetchSubtotal();\n      this.updateTotal();\n      this.updateTipTotal();\n    });\n    this.taxInput.on('input', () => {\n      this.tax = this.fetchTax();\n      this.updateTotal();\n    });\n    this.discountInput.on('input', () => {\n      this.discount = this.fetchDiscount();\n      this.updateTotal();\n      this.updateTipTotal();\n    });\n    this.tipInput.on('input', () => {\n      this.tipValue = this.fetchTipValue();\n      this.updateTotal();\n      this.updateTipTotal();\n    });\n    this._$el.find('input[name=\"tip-option-group\"]').on('input', (e) => {\n      this.tipOption = e.target.value;\n      this.updateTotal();\n      this.updateTipTotal();\n    });\n    this.table.on('input', '.item-input', (e) => {\n      const personIdx = e.target.dataset.personIndex;\n      const personDue = this.getPersonDue(personIdx);\n      \n      this.table.find(`.due${personIdx}`).html(toFinancialNumber(personDue));\n      this.onDuesChanged();\n    });\n  }\n\n  fetchSubtotal() {\n    return +this.subtotalInput.val() || 0;\n  }\n\n  fetchTax() {\n    return +this.taxInput.val() || 0;\n  }\n\n  fetchDiscount() {\n    return +this.discountInput.val() || 0;\n  }\n\n  fetchTipValue() {\n    return +this.tipInput.val() || 0;\n  }\n \n  addItem() {\n    this.itemCount++;\n\n    // Add the label for the new item column\n    this.table.find('th:last-child').after(`<th id=\"item${this.itemCount}-col-head\" class=\"item-col-head\">Item ${this.itemCount}</th>`);\n\n    const $rows = this.table.find('.person-row');\n\n    // Add item price inputs for each person\n    for (let i = 0; i < this.personCount; i++) {\n      const personIdx = i + 1;\n      $rows.eq(i).append(`\n        <td>\n            ${this.getItemInputHtmlString(personIdx, this.itemCount)}\n        </td>\n      `);\n    }\n  }\n\n  addPerson() {\n    this.personCount++;\n\n    const personIdx = this.personCount;\n    let html = `<tr id=\"person${personIdx}-row\" class=\"person-row\">`;\n    html += `    <td>${this.getPersonNameInputHtmlString(personIdx)}</td>`;\n    html += `    <td>$${this.getDueLabelHtmlString(personIdx, toFinancialNumber(0))}</td>`;\n    // Add item price inputs\n    for (let i = 1; i <= this.itemCount; i++) {\n      html += '<td>';\n      html += this.getItemInputHtmlString(personIdx, i);\n      html += '</td>';\n    }\n    html += '</tr>';\n\n    this.table.find('tbody').append(html);\n  }\n\n  getItemInputHtmlString(personIdx, itemIdx) {\n    return `<input type=\"number\" pattern=\"[0-9]*\" inputmode=\"decimal\" data-person-index=\"${personIdx}\" data-item-index=\"${itemIdx}\" class=\"item-input person${personIdx}-item\" min=\"0\" />`;\n  }\n\n  getPersonNameInputHtmlString(personIdx) {\n    return `<input type=\"text\" id=\"person${personIdx}-name\" placeholder=\"Bob ${personIdx}\" />`;\n  }\n\n  getDueLabelHtmlString(personIdx, dueValue) {\n    return `<span data-person-index=\"${personIdx}\" class=\"due due${personIdx}\">${dueValue}</span>`;\n  }\n}\n","// Styles\nimport 'materialize-css/dist/css/materialize.min.css';\nimport 'animate.css/animate.min.css';\nimport '../styles/index.scss';\n\nimport 'materialize-css/dist/js/materialize.min';\nimport Splitable from './splitable';\n\nconst splitable = new Splitable('#splitable');\n\n// start with 2 payers and 1 item\nsplitable.addPerson();\nsplitable.addPerson();\nsplitable.addItem();\n"],"sourceRoot":""}